{{ form_start(filter_form, {'attr': {'id': 'productFiltersForm'}}) }}
{{ form_widget(filter_form.name) }}
<div class="title">
    Фильтры
    <span class="badge">
        Найдено: <span id="productTotalRows">{{ totalRows }}</span>
        <a href="{{ path('cabinet_reset_product_filter') }}" id="removeFilters" type="button" class="remove"></a>
    </span>
</div>

<div class="accordion" id="productFilters">

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_wineColors" aria-expanded="false" aria-controls="filter_wineColors">
                Цвет вина
            </button>
        </div>
        <div id="filter_wineColors" class="accordion-collapse collapse {{ sessionFilters.product.wineColor|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">
                    {{ form_widget(filter_form.wineColor) }}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_wineSugars" aria-expanded="false" aria-controls="filter_wineSugars">
                Тип вина
            </button>
        </div>
        <div id="filter_wineSugars" class="accordion-collapse collapse {{ sessionFilters.product.wineSugar|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">
                    {{ form_widget(filter_form.wineSugar) }}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_countries" aria-expanded="false" aria-controls="filter_countries">
                Страна
            </button>
        </div>
        <div id="filter_countries" class="accordion-collapse collapse {{ sessionFilters.product.country|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">
                    {{ form_widget(filter_form.country) }}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_suppliers" aria-expanded="false" aria-controls="filter_suppliers">
                Импортеры
            </button>
        </div>
        <div id="filter_suppliers" class="accordion-collapse collapse {{ sessionFilters.product.supplier|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">
                    {{ form_widget(filter_form.supplier) }}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_vendors" aria-expanded="false" aria-controls="filter_vendors">
                Производители
            </button>
        </div>
        <div id="filter_vendors" class="accordion-collapse collapse {{ sessionFilters.product.vendor|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">
                    {{ form_widget(filter_form.vendor) }}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_grapeSorts" aria-expanded="false" aria-controls="filter_grapeSorts">
                Сорт винограда
            </button>
        </div>
        <div id="filter_grapeSorts" class="accordion-collapse collapse">
            <div class="accordion-body">
                <div class="scroll-block">
                    {% for grapeSort in grapeSorts %}
                        <div class="form-check">
                            <input class="form-check-input ch" type="checkbox" name="product_filter[grapeSort]"
                                   value="{{ grapeSort.id }}" id="filter_grapeSort_{{ grapeSort.id }}">
                            <label class="form-check-label" for="filter_grapeSort_{{ grapeSort.id }}">
                                {{ grapeSort.name }}
                            </label>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_vintage" aria-expanded="false" aria-controls="filter_vintage">
                Винтаж
            </button>
        </div>
        <div id="filter_vintage" class="accordion-collapse collapse {{ sessionFilters.product.year|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">

                    <div class="input-group mb-3">
                        <div class="input-group">
                            {{ form_widget(filter_form.year) }}
                            <button class="btn btn-outline-secondary filterSubmit" type="button">ok</button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_price" aria-expanded="false" aria-controls="filter_price">
                Цена
            </button>
        </div>
        <div id="filter_price" class="accordion-collapse collapse {{ sessionFilters.product.price_from|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">

                    <div class="input-group mb-3">
                        <div class="input-group">
                            {{ form_widget(filter_form.price_from) }}
                            {{ form_widget(filter_form.price_to) }}
                            <button class="btn btn-outline-secondary filterSubmit" type="button">ok</button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>


    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_wold_part" aria-expanded="false" aria-controls="filter_wold_part">
                Часть света
            </button>
        </div>
        <div id="filter_wold_part" class="accordion-collapse collapse {{ sessionFilters.product.price_from|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">

                    <div class="input-group mb-3">
                        <div class="input-group">
                            {{ form_widget(filter_form.worldPart) }}
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#filter_volume" aria-expanded="false" aria-controls="filter_volume">
                Объём бутылки
            </button>
        </div>
        <div id="filter_volume" class="accordion-collapse collapse {{ sessionFilters.product.volume|length > 0 ? 'show' : '' }}">
            <div class="accordion-body">
                <div class="scroll-block">

                    <div class="input-group mb-3">
                        <div class="input-group">
                            {{ form_widget(filter_form.volume) }}
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>


</div>

{{ form_end(filter_form) }}


{#<div class="accordion-item">#}
{#    <div class="accordion-header">#}
{#        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"#}
{#                data-bs-target="#filter_wineColors" aria-expanded="false" aria-controls="filter_wineColors">#}
{#            Цвет вина#}
{#        </button>#}
{#    </div>#}
{#    <div id="filter_wineColors" class="accordion-collapse collapse {{ sessionFilters.product.wineColor|length > 0 ? 'show' : '' }}">#}
{#        <div class="accordion-body">#}
{#            <div class="scroll-block">#}
{#                {% for wineColor in wineColors %}#}
{#                    <div class="form-check">#}
{#                        <input class="form-check-input ch" type="checkbox" name="product_filter[wineColor][]"#}
{#                               value="{{ wineColor.id }}" id="filter_wineColor_{{ wineColor.id }}"#}
{#                               {{ wineColor.id in sessionFilters.product.wineColor ? 'checked' : '' }}#}
{#                        >#}
{#                        <label class="form-check-label" for="filter_wineColor_{{ wineColor.id }}">#}
{#                            {{ wineColor.name }}#}
{#                        </label>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}